<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Fancy Text Converter (Unicode Safe)</title>
  <style>
    body {
      font-family: system-ui, -apple-system, Roboto, "Segoe UI", Arial;
      padding: 18px; background:#121212; color:#eaeaea;
    }
    h1 { font-size:25px; margin:0 0 10px; color:#fff; }
    .box { display:flex; gap:12px; flex-direction:column; max-width:900px; margin:0 auto; }
    textarea {
      width:100%; height:120px; padding:10px; font-size:16px;
      border-radius:8px; border:1px solid #333; resize:vertical;
      background:#1e1e1e; color:#eaeaea;
    }
    pre#out {
      min-height:120px;
      max-height:250px;
      overflow:auto;
      white-space:pre-wrap;
      word-wrap:break-word;
      padding:10px;
      border-radius:8px;
      border:1px solid #333;
      background:#1e1e1e;
      font-size:16px;
      color:#eaeaea;
      user-select: text;
    }
    .row { display:flex; gap:8px; flex-wrap:wrap; align-items:center; }
    button, select {
      padding:8px 12px; border-radius:8px;
      border:1px solid #444; background:#2a2a2a;
      color:#eaeaea; cursor:pointer;
    }
    button:hover, select:hover { background:#3a3a3a; }
    label, small { color:#bbb; }

    .smallcaps {
      font-variant: small-caps;
    }

    /* New link styling */
    .title-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .title-row a {
      font-size: 14px;
      color: #4da6ff;
      text-decoration: none;
    }
    .title-row a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <div class="box">
    <div class="title-row">
      <h1>Fancy Text Converter</h1>
      <a href="https://revivalhubministry.github.io/TextFormatter/">Go Back</a>
    </div>

    <label><strong>Choose Style</strong></label>
    <div style="display:flex; align-items:center; gap:6px;">
      <select id="style">
        <optgroup label="Basic">
          <option value="normal">Normal</option>
          <option value="smallcaps">Small Caps (CSS)</option>
          <option value="customSmallCaps">Custom Small Caps (á´€Ê™á´„á´…...)</option>
          <option value="underlined">Underlined (AÌ²BÌ²...)</option>
        </optgroup>
        <optgroup label="Math Styles">
          <option value="bold">Bold (ğ€ğğ‚...)</option>
          <option value="italic">Italic (ğ´ğµğ¶...)</option>
          <option value="bolditalic">Bold Italic (ğ‘¨ğ‘©ğ‘ª...)</option>
          <option value="sans">Sans-Serif (ğ– ğ–¡ğ–¢...)</option>
          <option value="sansbold">Sans-Serif Bold (ğ—”ğ—•ğ—–...)</option>
          <option value="sansbolditalic">Sans-Serif Bold Italic (ğ˜¼ğ˜½ğ˜¾...)</option>
          <option value="monospace">Monospace (ğ™°ğ™±ğ™²...)</option>
          <option value="script">Script (ğ’œâ„¬ğ’...)</option>
          <option value="fraktur">Fraktur (ğ”„ğ”…â„­...)</option>
          <option value="doublestruck">Double-Struck (ğ”¸ğ”¹â„‚...)</option>
        </optgroup>
        <optgroup label="Decorative">
          <option value="fullwidth">Fullwidth (ï¼¡ï¼¢ï¼£...)</option>
          <option value="circled">Circled (â’¶â’·â’¸...)</option>
          <option value="blackcircled">Black Circled (ğŸ„°ğŸ„±ğŸ„²...)</option>
        </optgroup>
      </select>
      <button id="prevStyle">â¬†</button>
      <button id="nextStyle">â¬‡</button>
    </div>

    <div class="row">
      <button id="copy">Copy Output</button>
      <button id="clear">Clear</button>
      <label for="copyMode" style="margin-left:6px; color:#bbb;">Copy as:</label>
      <select id="copyMode" title="Copy format">
        <option value="unicode" selected>Unicode Small-Caps</option>
        <option value="uppercase">Uppercase (compat)</option>
      </select>
    </div>
    
    <label><strong>Input</strong></label>
    <textarea id="input" placeholder="Type here..."></textarea>
    
    <label><strong>Output</strong></label>
    <pre id="out" aria-live="polite"></pre>
  </div>


  <script>
    const ascii = 'abcdefghijklmnopqrstuvwxyz';
    const ASCII_UPPER = ascii.toUpperCase();

    const styles = {
      normal: { upper: ASCII_UPPER.split(''), lower: ascii.split('') },
      underlined: {
        upper: ASCII_UPPER.split('').map(ch => ch + '\u0332'),
        lower: ascii.split('').map(ch => ch + '\u0332')
      },
      bold: {
        upper: [..."ğ€ğğ‚ğƒğ„ğ…ğ†ğ‡ğˆğ‰ğŠğ‹ğŒğğğğğ‘ğ’ğ“ğ”ğ•ğ–ğ—ğ˜ğ™"],
        lower: [..."ğšğ›ğœğğğŸğ ğ¡ğ¢ğ£ğ¤ğ¥ğ¦ğ§ğ¨ğ©ğªğ«ğ¬ğ­ğ®ğ¯ğ°ğ±ğ²ğ³"]
      },
      italic: {
        upper: [..."ğ´ğµğ¶ğ·ğ¸ğ¹ğºğ»ğ¼ğ½ğ¾ğ¿ğ‘€ğ‘ğ‘‚ğ‘ƒğ‘„ğ‘…ğ‘†ğ‘‡ğ‘ˆğ‘‰ğ‘Šğ‘‹ğ‘Œğ‘"],
        lower: [..."ğ‘ğ‘ğ‘ğ‘‘ğ‘’ğ‘“ğ‘”ğ’‰ğ’Šğ’‹ğ“€ğ“ğ“‚ğ“ƒğ‘œğ“…ğ“†ğ“‡ğ“ˆğ“‰ğ“Šğ“‹ğ“Œğ“ğ“ğ“"]
      },
      bolditalic: {
        upper: [..."ğ‘¨ğ‘©ğ‘ªğ‘«ğ‘¬ğ‘­ğ‘®ğ‘¯ğ‘°ğ‘±ğ‘²ğ‘³ğ‘´ğ‘µğ‘¶ğ‘·ğ‘¸ğ‘¹ğ‘ºğ‘»ğ‘¼ğ‘½ğ‘¾ğ‘¿ğ’€ğ’"],
        lower: [..."ğ’‚ğ’ƒğ’„ğ’…ğ’†ğ’‡ğ’ˆğ’‰ğ’Šğ’‹ğ’Œğ’ğ’ğ’ğ’ğ’‘ğ’’ğ’“ğ’”ğ’•ğ’–ğ’—ğ’˜ğ’™ğ’šğ’›"]
      },
      sans: {
        upper: [..."ğ– ğ–¡ğ–¢ğ–£ğ–¤ğ–¥ğ–¦ğ–§ğ–¨ğ–©ğ–ªğ–«ğ–¬ğ–­ğ–®ğ–¯ğ–°ğ–±ğ–²ğ–³ğ–´ğ–µğ–¶ğ–·ğ–¸ğ–¹"],
        lower: [..."ğ–ºğ–»ğ–¼ğ–½ğ–¾ğ–¿ğ—€ğ—ğ—‚ğ—ƒğ—„ğ—…ğ—†ğ—‡ğ—ˆğ—‰ğ—Šğ—‹ğ—Œğ—ğ—ğ—ğ—ğ—‘ğ—’ğ—“"]
      },
      sansbold: {
        upper: [..."ğ—”ğ—•ğ—–ğ——ğ—˜ğ—™ğ—šğ—›ğ—œğ—ğ—ğ—Ÿğ— ğ—¡ğ—¢ğ—£ğ—¤ğ—¥ğ—¦ğ—§ğ—¨ğ—©ğ—ªğ—«ğ—¬ğ—­"],
        lower: [..."ğ—®ğ—¯ğ—°ğ—±ğ—²ğ—³ğ—´ğ—µğ—¶ğ—·ğ—¸ğ—¹ğ—ºğ—»ğ—¼ğ—½ğ—¾ğ—¿ğ˜€ğ˜ğ˜¶ğ˜ƒğ˜„ğ˜…ğ˜ºğ˜‡"]
      },
      sansbolditalic: {
        upper: [..."ğ˜¼ğ˜½ğ˜¾ğ˜¿ğ™€ğ™ğ™‚ğ™ƒğ™„ğ™…ğ™†ğ™‡ğ™ˆğ™‰ğ™Šğ™‹ğ™Œğ™ğ™ğ™ğ™ğ™‘ğ™’ğ™“ğ™”ğ™•"],
        lower: [..."ğ™–ğ™—ğ™˜ğ™™ğ™šğ™›ğ™œğ™ğ™ğ™Ÿğ™ ğ™¡ğ™¢ğ™£ğ™¤ğ™¥ğ™¦ğ™§ğ™¨ğ™©ğ™ªğ™«ğ™¬ğ™­ğ™®ğ™¯"]
      },
      monospace: {
        upper: [..."ğ™°ğ™±ğ™²ğ™³ğ™´ğ™µğ™‚ğ™ƒğ™¸ğ™¹ğ™ºğ™»ğ™¼ğ™‰ğ™Šğ™¿ğš€ğšğš‚ğšƒğš„ğš…ğš†ğš‡ğšˆğš‰"],
        lower: [..."ğšŠğš‹ğšŒğšğšğšğšğš‘ğš’ğš“ğš”ğš•ğš–ğš—ğš˜ğš™ğššğš›ğšœğšğšğšŸğš ğš¡ğš¢ğš£"]
      },
      script: {
        upper: [..."ğ’œâ„¬ğ’ğ’Ÿâ„°â„±ğ’¢â„‹â„ğ’¥ğ’¦â„’â„³ğ’©ğ’ªğ’«ğ’¬â„›ğ’®ğ’¯ğ’°ğ’±ğ’²ğ’³ğ’´ğ’µ"],
        lower: [..."ğ’¶ğ’·ğ’¸ğ’¹â„¯ğ’»â„Šğ’½ğ’¾ğ’¿ğ“€ğ“ğ“‚ğ“ƒâ„´ğ“…ğ“†ğ“‡ğ“ˆğ“‰ğ“Šğ“‹ğ“Œğ“ğ“ğ“"]
      },
      fraktur: {
        upper: [..."ğ”„ğ”…â„­ğ”‡ğ”ˆğ”‰ğ”Šâ„Œâ„‘ğ”ğ”ğ”ğ”ğ”‘ğ”’ğ”“ğ””â„œğ”–ğ”—ğ”˜ğ”™ğ”šğ”›ğ”œâ„¨"],
        lower: [..."ğ”ğ”Ÿğ” ğ”¡ğ”¢ğ”£ğ”¤ğ”¥ğ”¦ğ”§ğ”¨ğ”©ğ”ªğ”«ğ”¬ğ”­ğ”®ğ”¯ğ”°ğ”±ğ”²ğ”³ğ”´ğ”µğ”¶ğ”·"]
      },
      doublestruck: {
        upper: [..."ğ”¸ğ”¹â„‚ğ”»ğ”¼ğ”½ğ”¾â„ğ•€ğ•ğ•‚ğ•ƒğ•„â„•ğ•†â„™â„šâ„ğ•Šğ•‹ğ•Œğ•ğ•ğ•ğ•â„¤"],
        lower: [..."ğ•’ğ•“ğ•”ğ••ğ•–ğ•—ğ•˜ğ•™ğ•šğ•›ğ•œğ•ğ•ğ•Ÿğ• ğ•¡ğ•¢ğ•£ğ•¤ğ•¥ğ•¦ğ•§ğ•¨ğ•©ğ•ªğ•«"]
      },
      fullwidth: {
        upper: [..."ï¼¡ï¼¢ï¼£ï¼¤ï¼¥ï¼¦ï¼§ï¼¨ï¼©ï¼ªï¼«ï¼¬ï¼­ï¼®ï¼¯ï¼°ï¼±ï¼²ï¼³ï¼´ï¼µï¼¶ï¼·ï¼¸ï¼¹ï¼º"],
        lower: [..."ï½ï½‚ï½ƒï½„ï½…ï½†ï½‡ï½ˆï½‰ï½Šï½‹ï½Œï½ï½ï½ï½ï½‘ï½’ï½“ï½”ï½•ï½–ï½—ï½˜ï½™ï½š"]
      },
      circled: {
        upper: [..."â’¶â’·â’¸â’¹â’ºâ’»â’¼â’½â’¾â’¿â“€â“â“‚â“ƒâ“„â“…â“†â“‡â“ˆâ“‰â“Šâ“‹â“Œâ“â“â“"],
        lower: [..."â“â“‘â“’â““â“”â“•â“–â“—â“˜â“™â“šâ“›â“œâ“â“â“Ÿâ“ â“¡â“¢â“£â“¤â“¥â“¦â“§â“¨â“©"]
      },
      blackcircled: {
        upper: [..."ğŸ„°ğŸ„±ğŸ„²ğŸ„³ğŸ„´ğŸ„µğŸ„¶ğŸ„·ğŸ„¸ğŸ„¹ğŸ„ºğŸ„»ğŸ„¼ğŸ„½ğŸ„¾ğŸ„¿ğŸ…€ğŸ…ğŸ…‚ğŸ…ƒğŸ…„ğŸ……ğŸ…†ğŸ…‡ğŸ…ˆğŸ…‰"],
        lower: [..."ğŸ„°ğŸ„±ğŸ„²ğŸ„³ğŸ„´ğŸ„µğŸ„¶ğŸ„·ğŸ„¸ğŸ„¹ğŸ„ºğŸ„»ğŸ„¼ğŸ„½ğŸ„¾ğŸ„¿ğŸ…€ğŸ…ğŸ…‚ğŸ…ƒğŸ…„ğŸ……ğŸ…†ğŸ…‡ğŸ…ˆğŸ…‰"] // fallback: no lowercase
      },
      customSmallCaps: {
        upper: [..."á´€Ê™á´„á´…á´‡êœ°É¢ÊœÉªá´Šá´‹ÊŸá´É´á´á´©QÊ€êœ±á´›á´œá´ á´¡xYá´¢"],
        lower: [..."á´€Ê™á´„á´…á´‡êœ°É¢ÊœÉªá´Šá´‹ÊŸá´É´á´á´©qÊ€êœ±á´›á´œá´ á´¡xyá´¢"]
      }
    };

    function buildMap(style) {
      if (style === "smallcaps") return null;
      if (!styles[style]) {
        console.warn(`Style "${style}" not defined in styles object`);
        return null;
      }
      const { lower, upper } = styles[style];
      const map = {};
      for (let i = 0; i < ascii.length; i++) {
        map[ascii[i]] = lower[i] || ascii[i];
        map[ASCII_UPPER[i]] = upper[i] || ASCII_UPPER[i];
      }
      return map;
    }

    function convert(text, style) {
      if (style === "smallcaps") {
        return `<span class="smallcaps">${escapeHtml(text)}</span>`;
      }
      const map = buildMap(style);
      if (!map) return text;
      let result = '';
      for (const ch of text) {
        result += map[ch] !== undefined ? map[ch] : ch;
      }
      return result;
    }

    function escapeHtml(str) {
      return str.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;");
    }

    const input = document.getElementById('input');
    const out = document.getElementById('out');
    const copyBtn = document.getElementById('copy');
    const clearBtn = document.getElementById('clear');
    const styleSelect = document.getElementById('style');
    const prevBtn = document.getElementById('prevStyle');
    const nextBtn = document.getElementById('nextStyle');
    const copyMode = document.getElementById('copyMode');

    function updateOutput() {
      const style = styleSelect.value;
      if (style === "smallcaps") {
        out.innerHTML = convert(input.value, style);
      } else {
        out.textContent = convert(input.value, style);
      }
    }

    styleSelect.addEventListener('change', updateOutput);
    input.addEventListener('input', updateOutput);

    prevBtn.addEventListener('click', () => {
      let idx = styleSelect.selectedIndex;
      idx = (idx - 1 + styleSelect.options.length) % styleSelect.options.length;
      styleSelect.selectedIndex = idx;
      updateOutput();
    });

    nextBtn.addEventListener('click', () => {
      let idx = styleSelect.selectedIndex;
      idx = (idx + 1) % styleSelect.options.length;
      styleSelect.selectedIndex = idx;
      updateOutput();
    });

    copyBtn.addEventListener('click', async () => {
      try {
        let textToCopy;
        const style = styleSelect.value;
        if (style === "smallcaps" && copyMode.value === "unicode") {
          textToCopy = input.value.toLowerCase();
        } else if (style === "smallcaps" && copyMode.value === "uppercase") {
          textToCopy = input.value.toUpperCase();
        } else {
          textToCopy = out.textContent || out.innerText;
        }
        if (navigator.clipboard && window.isSecureContext) {
          await navigator.clipboard.writeText(textToCopy);
        } else {
          const temp = document.createElement("textarea");
          temp.value = textToCopy;
          document.body.appendChild(temp);
          temp.select();
          document.execCommand("copy");
          document.body.removeChild(temp);
        }
        copyBtn.textContent = 'Copied!';
        setTimeout(() => copyBtn.textContent = 'Copy Output', 1200);
      } catch (err) {
        alert("Failed to copy: " + err);
      }
    });

    clearBtn.addEventListener('click', () => {
      input.value = '';
      out.textContent = '';
    });

    updateOutput();
  </script>
</body>
</html>
